# Wind ìµëª… íƒ€ì„ë¼ì¸ ë©”ì‹œì§€



> **ìµëª…ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì˜¬ë ¤ ì˜ê²¬ì„ ì£¼ê³  ë°›ì„ ìˆ˜ ìˆëŠ” ì›¹í˜ì´ì§€**
> 
- ë©”ì‹œì§€ ì°½ì— ì›í•˜ëŠ” í…ìŠ¤íŠ¸ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ê³  ë“±ë¡í•˜ë©´ ì°¨ë¡€ëŒ€ë¡œ ë©”ì‹œì§€ê°€ ìµëª…ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤.
- ì‘ì„±ëœ ë©”ì‹œì§€ëŠ” 24ì‹œê°„ì´ ì§€ë‚˜ê³  ë‚˜ë©´ ì—†ì–´ì ¸ì„œ, ì•„ë¬´ ë§ì„ ë˜ì§€ê³  ê°€ê³  ì‹¶ì„ ë•Œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ»íƒ€ì„ë¼ì¸ í˜ì´ì§€ ê°œë°œ(2021.07~2021.08)



![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fc57403c-63a3-4459-891e-772b62f39d43/Untitled.png)

> ê·¸ë™ì•ˆ ì›¹ ê°œë°œì„ ì–´ë–»ê²Œ í•˜ëŠ”ì§€, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì›¹ í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”ì§€ ëª°ëê¸° ë•Œë¬¸ì—, ì´ì œë¼ë„ ì›¹ê°œë°œì„ ê³µë¶€í•´ë³´ê³  ì‹¶ë‹¤ëŠ” ë§ˆìŒìœ¼ë¡œ ë¬´ì‘ì • ë›°ì–´ë“¤ì—ˆìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œì™€ ìŠ¤í”„ë§ì„ ë¹„ìŠ·í•œ ì‹œê¸°ì— ê³µë¶€í•˜ê¸° ì‹œì‘í–ˆëŠ”ë°, ì–´ë µì§€ë§Œ ë” ì¬ë¯¸ìˆëŠ” ê±´ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜€ìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ AWS ì„œë²„ì— ë§í¬ë¥¼ ì˜¬ë ¤ ì¹œêµ¬ë“¤ì—ê²Œ ì£¼ë©´ì„œ ì²˜ìŒìœ¼ë¡œ ë‚´ê°€ ë§Œë“  ê²ƒì„ ì„œë¹„ìŠ¤í•˜ëŠ” ê²ƒì— í° ì„±ì·¨ê°ì„ ì–»ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ í† ì´í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë°±ì—”ë“œ ê°œë°œìë¡œ ì§„ë¡œë¥¼ ì •í•˜ê²Œ ë˜ì—ˆìœ¼ë©°, ì´ëŸ¬í•œ ê²½í—˜ì„ ì´ìš©í•´ ì´í›„ í•™ê¸° ì¤‘ì— ì§„í–‰í–ˆë˜ íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ì›¹ê°œë°œì´ í•„ìš”í•  ë•Œ ì£¼ì¶•ì„ ë§¡ì•„ íŒ€ì„ ì´ëŒ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
> 

> ğŸ”—ê¹ƒí—ˆë¸Œ:  [https://github.com/Yudaeun/Wind_Memo_Web](https://github.com/Yudaeun/Wind_Memo_Web)
> 

 

## ê°œë°œí™˜ê²½



- Intellj
- Spring Web
- Spring Data JPA
- H2 Database
- Lombok
- MySQL Driver
- GitHub
- AWS

## ê°œë°œì–¸ì–´



- Java
- HTML
- CSS
- JavaScript

## í”„ë¡œì íŠ¸ êµ¬ì¡°



![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/df75fdeb-5600-4655-96d8-24567e3201dd/Untitled.png)

### Web

- **Domain(Repository):** JPAë¥¼ ì´ìš©í•´ ê°„ë‹¨íˆ DBì— ì ‘ê·¼í•˜ë„ë¡ ê´€ë¦¬í•©ë‹ˆë‹¤.
- **Controller:** APIë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- **Service:** ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
- **Dto:** Request ë° Response Dtoë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- **View:** ì›¹ ë¸Œë¼ìš°ì € ìƒì— ë‚˜íƒ€ë‚˜ëŠ” í™”ë©´ìœ¼ë¡œ, ë°ì´í„°ë¥¼ ë°›ì•„ Controllerë¡œ ë„˜ê²¨ì¤ë‹ˆë‹¤.

## Back-End



### 1. Repository Layer

> **Memo(Entity)ì— ì˜í•´ ìƒì„±ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë©”ì„œë“œë¥¼ ì´ìš©í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.**
> 

ìƒì„±ì‹œê°„ê³¼ ìˆ˜ì •ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” Timestampedí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œì—ì„œ createdAt ë³€ìˆ˜ì™€ modifiedAt ë³€ìˆ˜ëŠ” ê°ê° Time APIì˜ `LocalDateTime` í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ ìƒì„± ì‹œê°„ê³¼ ìˆ˜ì •ì‹œê°„ì„ ë§Œë“œëŠ” ê²ƒì— ì“°ì…ë‹ˆë‹¤. 

```java
public class Timestamped {

    @CreatedDate
    private LocalDateTime createdAt;

    @LastModifiedDate
    private LocalDateTime modifiedAt;
}
```

- ê·¸ ì™¸ì—, MemoRequestDto í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ Request ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
- `JpaRepository`ë¥¼ ìƒì†ë°›ëŠ” MemoRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ Memo Entityì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒ, ì €ì¥ ë° ë³€ê²½, ì‚­ì œí•  ë•Œ Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ Memoì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

ìƒì„±í•œ Timestampedë¥¼ ìƒì†ë°›ëŠ” Memo í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ usernameê³¼ contents(ë©”ëª¨ ë‚´ìš©)ì´ ë§Œë“¤ì–´ì§ˆ ë•Œ, ìƒì„± ì‹œê°„ê³¼ ìˆ˜ì • ì‹œê°„ì„ ìë™ìœ¼ë¡œ ì„¤ì • ë˜ë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

### 2. Service Layer

> **ì‹¤ì œ íƒ€ì„ë¼ì¸ ë©”ëª¨ ì„œë¹„ìŠ¤ê°€ ì´ë£¨ì–´ì§€ëŠ” í´ë˜ìŠ¤ë¡œ, ì‹¤ì§ˆì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê³„ì¸µì…ë‹ˆë‹¤.**
> 

 

ì•„ë˜ëŠ” idì™€ RequestDtoë¥¼ ë°›ì•„ì„œ Memoë¥¼ Update í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê³ , Idë¥¼ ë°˜í™˜í•˜ëŠ” MemoService í´ë˜ìŠ¤ì…ë‹ˆë‹¤. idë¥¼ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´ ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

```java
public class MemoService {

    private final MemoRepository memoRepository;

    @Transactional
    public Long update(Long id, MemoRequestDto requestDto) {
        Memo memo = memoRepository.findById(id).orElseThrow(
                () -> new IllegalArgumentException("ì•„ì´ë””ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        );
        memo.update(requestDto);
        return memo.getId();
    }
}
```

### 3. Controller

> **CRUD ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  Controllerì…ë‹ˆë‹¤. Web Layerì— ì†í•´ìˆìŠµë‹ˆë‹¤.**
> 

ì•„ë˜ëŠ” ë©”ëª¨ ìƒì„±(POST), ë©”ëª¨ ì¡°íšŒ(GET), ë©”ëª¨ ë³€ê²½(PUT), ë©”ëª¨ ì‚­ì œ(DELETE) APIë¥¼ êµ¬í˜„í•œ ì½”ë“œì…ë‹ˆë‹¤.

```java
public class MemoController {

    private final MemoRepository memoRepository;
    private final MemoService memoService;

    @PostMapping("/api/memos")
    public Memo createMemo(@RequestBody MemoRequestDto requestDto) {
        Memo memo = new Memo(requestDto);
        return memoRepository.save(memo);
    }
    @GetMapping("/api/memos")
   public List<Memo> readMemo() {
        LocalDateTime start = LocalDateTime.now().minusDays(1);
        LocalDateTime end = LocalDateTime.now();
        return  memoRepository.findAllByModifiedAtBetweenOrderByModifiedAtDesc(start,end);
   }

   @PutMapping("/api/memos/{id}")
   public Long updateMemo(@PathVariable Long id,@RequestBody MemoRequestDto requestDto){
        memoService.update(id,requestDto);
        return id;
   }
   @DeleteMapping("/api/memos/{id}")
    public Long deleteMemo(@PathVariable Long id){
        memoRepository.deleteById(id);
        return id;
   }
}
```

- **createMemo():** Post Apië¥¼ êµ¬í˜„í•œ ë©”ì„œë“œë¡œ, ìƒˆë¡œìš´ ë©”ëª¨ ê°ì²´ë¥¼ ìƒì„±í•œ í›„, memoRepositoryì— ë©”ëª¨ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- **readMemo():** Get Apië¥¼ êµ¬í˜„í•œ ë©”ì„œë“œë¡œ, ì‘ì„±ëœ ë©”ëª¨ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ì„±ëœ ë©”ëª¨ëŠ” 24ì‹œê°„ ë™ì•ˆë§Œ ë³¼ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
- **updateMemo():** Put Apië¥¼ êµ¬í˜„í•œ ë©”ì„œë“œë¡œ, memoService í´ë˜ìŠ¤ì˜ update ë©”ì„œë“œë¥¼ ì´ìš©í•´ ì‘ì„±ëœ ë©”ëª¨ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **deleteMemo():** Delete Apië¥¼ êµ¬í˜„í•œ ë©”ì„œë“œë¡œ, memoRepositoryì—ì„œ ì „ë‹¬ë°›ì€ idì˜ ë©”ëª¨ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.

## Front-End



![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/be37676a-10bc-4866-8ff1-303841e8ea4c/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/82b06c6d-766e-435f-a5fe-58ba0a5ff7cc/Untitled.png)

### 1. ë©”ëª¨ ìƒì„±(writePost())

- ì‚¬ìš©ìê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ë©´ ë‚´ìš©ì„ í™•ì¸í•©ë‹ˆë‹¤.
- êµ¬í˜„í•´ë‘” POST APIë¥¼ ì´ìš©í•´ ìƒˆë¡œìš´ ë©”ëª¨ë¥¼ ìƒì„±í•˜ê³  JSON data í˜•íƒœë¥¼ ajaxë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

```java
function writePost() {
            let contents = $('#contents').val();

            if (isValidContents(contents) == false) {
                return;
            }

            let username = genRandomName(10);
            let data = {'username': username, 'contents': contents};

            $.ajax({
                type: "POST",
                url: "/api/memos",
                contentType: "application/json",
                data: JSON.stringify(data),
                success: function (response) {
                    alert('ë©”ì‹œì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    window.location.reload();
                }
            });
        }
```

### 2. ë©”ëª¨ ì¡°íšŒ(getMessages())

- êµ¬í˜„í•´ë‘” GET APIë¥¼ ì´ìš©í•´ ì‘ì„±ëœ ë©”ëª¨ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ajaxë¡œ ë°›ì•„ì™€ ì¡°íšŒí•©ë‹ˆë‹¤.
- ê°ê°ì˜ ë©”ëª¨ë§ˆë‹¤ ìŠ¤íƒ€ì¼ì„ ì ìš©í•©ë‹ˆë‹¤.

```java
function getMessages() {
            $('#cards-box').empty();
            $.ajax({
                type: "GET",
                url: "/api/memos",
                data: {},
                success: function (response) {
                    for (let i = 0; i < response.length; i++) {
                        let message = response[i];
                        let id = message['id'];
                        let username = message['username'];
                        let contents = message['contents'];
                        let modifiedAt = message['modifiedAt'];
                        addHTML(id, username, contents, modifiedAt);
                    }
                }
            });
        }
```

### 3. ë©”ëª¨ ìˆ˜ì •(submitEdit())

- êµ¬í˜„í•´ë‘” PUT APIë¥¼ ì´ìš©í•´ ì‘ì„±í•œ ë©”ëª¨ì˜ ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ìˆ˜ì •í•œ ë©”ëª¨ ë‚´ìš©ì„ í™•ì¸í•©ë‹ˆë‹¤.
- ìˆ˜ì •í•  ë©”ëª¨ì˜ usernameê³¼ contentsë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```java
function submitEdit(id) {
            let username = $(`#${id}-username`).text().trim();
            let contents = $(`#${id}-textarea`).val().trim();
            if (isValidContents(contents) == false) {
                return;
            }
            let data = {'username': username, 'contents': contents};

            $.ajax({
                type: "PUT",
                url: `/api/memos/${id}`,
                contentType: "application/json",
                data: JSON.stringify(data),
                success: function (response) {
                    alert('ë©”ì‹œì§€ ë³€ê²½ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.');
                    window.location.reload();
                }
            });
        }
```

### ë©”ëª¨ ì‚­ì œ(deleteOne())

- êµ¬í˜„í•´ë‘” DELETE APIë¥¼ ì´ìš©í•´ ì‘ì„±í•œ ë©”ëª¨ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
function deleteOne(id) {
            $.ajax({
                type: "DELETE",
                url: `/api/memos/${id}`,
                success: function (response) {
                    alert('ë©”ì‹œì§€ ì‚­ì œì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.');
                    window.location.reload();
                }
            })
        }
```

### ê·¸ ì™¸

- `$(document).ready(function(){})` : í˜ì´ì§€ë¥¼ ë¡œë“œí•  ë•Œë§ˆë‹¤ ë©”ëª¨ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- **addHTML():** makeMessage í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ê°ê°ì˜ ë©”ëª¨ì— ìŠ¤íƒ€ì¼ì„ ì ìš©ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜
- **makeMesage():** username, contents, footer(ë²„íŠ¼) ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë©”ëª¨ì— ìŠ¤íƒ€ì¼ì„ ì ìš©ì‹œì¼œì£¼ëŠ” í•¨ìˆ˜
- **isValidContents():** ë©”ëª¨ì— ë‚´ìš©ì„ ì‘ì„±í–ˆëŠ”ì§€, 140ì ë¯¸ë§Œìœ¼ë¡œ ì‘ì„±í–ˆëŠ”ì§€ë¥¼ ì²´í¬í•˜ëŠ” í•¨ìˆ˜
- **genRandomName():** useridë¥¼ A~9ê¹Œì§€ ë¬¸ì ì¤‘ì— ëœë¤ìœ¼ë¡œ ì¡°í•©í•´ì„œ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
- **editPost():** ìˆ˜ì • ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì‘ì„± ë‚´ìš©ì„ textareaì— ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜
- **showEdits():** ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, contentsì™€ edit ë²„íŠ¼ì„ ìˆ¨ê¸°ê³ , editareaì™€ submit, delete ë²„íŠ¼ì„ ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜
- **hideEdits():** ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, editarea, submit, delete ë²„íŠ¼ì„ ìˆ¨ê¸°ê³ , contentsì™€ editë²„íŠ¼ì„ ë‚˜íƒ€ë‚´ëŠ” í•¨ìˆ˜

## AWS



![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/197a582a-247f-42cf-ad64-0d2b5bace046/Untitled.png)

- AWS RDSì—ì„œ MySQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ ì—°ê²°í•´ì„œ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ë“¤ì–´ê°€ë„ ë©”ëª¨ê°€ ì‚¬ë¼ì§€ì§€ ì•Šë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ë¥¼ `.jar`ë¡œ ë¹Œë“œí•˜ê³  Filezillaë¥¼ ì´ìš©í•´ AWS EC2 ì„œë²„ì— ì—…ë¡œë“œ í•´ì„œ ìŠ¤í”„ë§ ì„œë²„ë¥¼ ëŒì•„ê°€ë„ë¡ í•©ë‹ˆë‹¤.
- ê°€ë¹„ì•„ì—ì„œ ë„ë©”ì¸ì„ êµ¬ì…í•´ì„œ DNSë¥¼ ì„¤ì •í•˜ê³  ë‚´ ë„ë©”ì¸ IPë¥¼ ì„¤ì •í•´ì£¼ì–´ ì‹¤ì œ Urlì„ í†µí•´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
